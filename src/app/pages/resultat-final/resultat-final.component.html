
<mat-card #fullScreenElement
    class="container"  
    [ngClass]="{'fullscreen': isFullScreen()}"
>
    <div [ngClass]="{'headerfullscreen': isFullScreen(), 'header': !isFullScreen()}">
        <div class="subtitle">
            <img src="/assets/icons/listPilote.svg" alt="Liste pilote" style="width: 3vw; height: 3vh;">
            <p>Top 8 des winners</p>
        </div>
        <div>
            <img src="/assets/icons/reload.svg" alt="menu toggle" style="width: 3vw; height: 3vh;" class="img">
            @if (isFullScreen()) {
                <img src="/assets/icons/x.png" alt="menu toggle" style="width: 1.6rem; height: 1.6rem;" (click)="hideFullScreen()" class="img">
            }  @else {
                <img src="/assets/icons/fullscreen.png" alt="menu toggle" style="width: 1.6rem; height: 1.6rem;" (click)="toggleFullScreen()" class="img">
            }
        </div>
    </div>
    <mat-card-content class="content">

        <section 
            class="mat-elevation-z8" 
            [ngClass]="{'tablefullscreen': isFullScreen(), 'table': !isFullScreen()}"  
            tabindex="0"
        >
            <table mat-table [dataSource]="dataSource" class="scroll">
                <ng-container matColumnDef="Rang">
                    <th mat-header-cell *matHeaderCellDef>Rang</th>
                    <td mat-cell *matCellDef="let element" class="flex">
                        @if (element.rang == 1) {
                            <img src="/assets/icons/winner.png" alt="" style="width: 3rem; height: 3rem;">
                        } @else { 
                            <div>
                                {{element.rang}}
                            </div>
                        }
                    </td>
                </ng-container>
                <!-- Position Column -->
                <ng-container matColumnDef="Pilotes">
                    <th mat-header-cell *matHeaderCellDef> Pilote </th>
                    <td mat-cell *matCellDef="let element" style="display: flex; align-items: center; "> 
                        <div class="imgDriver">
                            <div class="img1">
                                <img src={{element.img}} alt="" >
                            </div>
                            <div class="img2">
                                <img src={{element.imgCar}} alt="" >
                            </div>
                        </div>
                        <div>
                            {{element.pilote}} 
                        </div>
                    </td>
                </ng-container>
            
                <!-- Name Column -->
                <ng-container matColumnDef="Marques">
                    <th mat-header-cell *matHeaderCellDef> Marques </th>
                    <td mat-cell *matCellDef="let element"> {{element.marque}} </td>
                </ng-container>
            
                <!-- Weight Column -->
                <ng-container matColumnDef="Vehicules">
                    <th mat-header-cell *matHeaderCellDef> Vehicules </th>
                    <td mat-cell *matCellDef="let element"> {{element.car}} </td>
                </ng-container>
            
                  <!-- Symbol Column -->
                  <ng-container matColumnDef="Total Kilometrage">
                    <th mat-header-cell *matHeaderCellDef> Total Kilometrage </th>
                    <td mat-cell *matCellDef="let element"> 
                        <div [class.greenColor]="element.rang == 1">
                            {{element.km_total}} Km
                        </div> 
                    </td>
                </ng-container>

                <!-- Symbol Column -->
                <ng-container matColumnDef="Heure Total Parcours">
                    <th mat-header-cell *matHeaderCellDef> Heure Total Parcours </th>
                    <td mat-cell *matCellDef="let element">
                        <div [class.greenColor]="element.rang == 1">
                            {{element.hour_total}}
                        </div> 
                    </td>
                </ng-container>

                   <!-- Symbol Column -->
                   <ng-container matColumnDef="Actions">
                    <th mat-header-cell *matHeaderCellDef> Actions </th>
                    <td mat-cell *matCellDef="let element" >
                        @if (element.rang == 1) {
                            <button mat-raised-button class="btnWinner" (click)="openDialogWinner()">Winner Detail</button>
                        } @else {
                            <button mat-raised-button class="btn">Detail</button>
                        }
                    </td>
                </ng-container>
            
                <tr class="headerbc" mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
        </section>
    </mat-card-content>
</mat-card>